(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{435:function(s,a,t){s.exports=t.p+"assets/img/image-20230627155757457.7134c804.png"},436:function(s,a,t){s.exports=t.p+"assets/img/image-20230627154606045.fdd6de09.png"},437:function(s,a,t){s.exports=t.p+"assets/img/image-20230627165341924.a5982bf0.png"},438:function(s,a,t){s.exports=t.p+"assets/img/image-20230627165514556.eb2678df.png"},439:function(s,a,t){s.exports=t.p+"assets/img/image-20230627165735207.096ecc77.png"},440:function(s,a,t){s.exports=t.p+"assets/img/image-20230627165957259.dd0cd5e4.png"},441:function(s,a,t){s.exports=t.p+"assets/img/image-20230627170110134.cc83f730.png"},442:function(s,a,t){s.exports=t.p+"assets/img/image-20230627170133891.0ec90c7e.png"},455:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("Docker-容器命令，操作容器的一些命令")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(435),alt:"An image"}})]),s._v(" "),a("h3",{attrs:{id:"_1-新建-运行容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-新建-运行容器"}},[s._v("#")]),s._v(" 1. 新建+运行容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker run "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("容器名称/容器名称:TAG/容器ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("COMMAND"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("容器名称 为容器指定一个名字\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" 后台云信容器并返回容器ID，也即启动守护式容器（后台运行）\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" 以交互模式运行容器，通常有-t同时使用\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" 为容器重新分配一个伪输入终端，通常与-i同时使用，也即启动交互式容器\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" 随机端口映射，大写P\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" 指定端口映射，小写p\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("示例"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ubuntu /bin/bash\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("myubuntu ubuntu /bin/bash\n/bin/bash: 放在镜像名后的是命令,这里我们希望有个交互式 Shell，因此用的是 /bin/bash。要退出终端，直接输入 exit:\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("小写p参数详解")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[s._v("参数")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("-p hostPort:containerPort")]),s._v(" "),a("td",[s._v("端口映射 -p 8080:80")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("-p ip:hostPort:containerPort")]),s._v(" "),a("td",[s._v("配置监听地址-p 10.0.0.100:8080:80")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("-pip::containerPort")]),s._v(" "),a("td",[s._v("随机分配端口-p 10.0.0.100::80")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("-p hostPort:containerPort:udp")]),s._v(" "),a("td",[s._v("指定协议-p 8080:80:tcp")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[s._v("-p 81:80 -p 443:443")]),s._v(" "),a("td",[s._v("指定多个")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-列出所有容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-列出所有容器"}},[s._v("#")]),s._v(" 2. 列出所有容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" 列出当前所有正在运行的容器+历史上运行的\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" 显示最近创建的容器\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" 显示最近n个创建的容器\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" 静默模式，只显示容器编号\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_3-退出容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-退出容器"}},[s._v("#")]),s._v(" 3. 退出容器")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("exit")]),s._v(" "),a("p",[s._v("使用 exit 退出，容器停止")])]),s._v(" "),a("li",[a("p",[s._v("快捷键")]),s._v(" "),a("p",[a("code",[s._v("ctrl+p+q")]),s._v(",使用快捷键退出，容器不停止")])])]),s._v(" "),a("h3",{attrs:{id:"_4-启动已停止运行的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动已停止运行的容器"}},[s._v("#")]),s._v(" 4. 启动已停止运行的容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker start 容器ID或者容器名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_5-重启容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-重启容器"}},[s._v("#")]),s._v(" 5. 重启容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker restart 容器ID或者容器名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_6-停止容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-停止容器"}},[s._v("#")]),s._v(" 6. 停止容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker stop 容器ID或者容器名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_7-强制停止容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-强制停止容器"}},[s._v("#")]),s._v(" 7. 强制停止容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" 容器ID或者容器名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_8-删除已停止的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-删除已停止的容器"}},[s._v("#")]),s._v(" 8. 删除已停止的容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器ID或者容器名称\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_9-强制删除容器-未停止的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-强制删除容器-未停止的容器"}},[s._v("#")]),s._v(" 9. 强制删除容器（未停止的容器）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" 容器ID或者容器名称\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_10-一次性删除多个容器实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-一次性删除多个容器实例"}},[s._v("#")]),s._v(" 10. 一次性删除多个容器实例")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_11-前台和后台启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-前台和后台启动"}},[s._v("#")]),s._v(" 11. 前台和后台启动")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("前台交互式启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ubuntu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("后台守护式启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ubuntu\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样启动会导致启动失败，具体请了解下图")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ubuntu /bin/bash\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样启动就OK")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("p",[a("img",{attrs:{src:t(436),alt:"An image"}})]),s._v(" "),a("h3",{attrs:{id:"_12-查看容器日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-查看容器日志"}},[s._v("#")]),s._v(" 12. 查看容器日志")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker logs 容器ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_13-查看容器内运行的进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-查看容器内运行的进程"}},[s._v("#")]),s._v(" 13. 查看容器内运行的进程")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" 容器ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_14-查看容器的内部细节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-查看容器的内部细节"}},[s._v("#")]),s._v(" 14. 查看容器的内部细节")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("docker inspect 容器ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_15-进入正在运行的容器并以命令行交互"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-进入正在运行的容器并以命令行交互"}},[s._v("#")]),s._v(" 15. 进入正在运行的容器并以命令行交互")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("docker exec -it 容器ID bashShell")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec --help")]),s._v("\n\nUsage:  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER COMMAND "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nExecute a "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a running container\n\nAliases:\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" container exec, "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v("\n\nOptions:\n  -d, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--detach")]),s._v("               Detached mode: run "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the background\n      --detach-keys string   Override the key sequence "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" detaching a container\n  -e, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--env")]),s._v(" list             Set environment variables\n      --env-file list        Read "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" of environment variables\n  -i, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--interactive")]),s._v("          Keep STDIN "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" even "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" not attached\n      "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--privileged")]),s._v("           Give extended privileges to the "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n  -t, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--tty")]),s._v("                  Allocate a pseudo-TTY\n  -u, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--user")]),s._v(" string          Username or "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("format: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<name|uid>[:<group|gid>]"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  -w, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--workdir")]),s._v(" string       Working directory inside the container\n\neg:\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec -it bcf01f555d60 /bin/bash")]),s._v("\nroot@bcf01f555d60:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("说明："),a("code",[s._v("exec")]),s._v("是在容器中打开新的终端，并且可以启动新的进程用exit退出，不会导致容器停止")])]),s._v(" "),a("li",[a("p",[s._v("docker attach 容器ID")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker attach bcf01f555d60")]),s._v("\nroot@bcf01f555d60:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("说明："),a("code",[s._v("attach")]),s._v("直接进入容器启动命令的终端，不会启动新的进程，用exit退出，会导致容器的停止")])])]),s._v(" "),a("h3",{attrs:{id:"_16-从容器拷贝文件到主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-从容器拷贝文件到主机"}},[s._v("#")]),s._v(" 16. 从容器拷贝文件到主机")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" 容器ID:容器内的路径 目标主机的路径\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker cp bcf01f555d60:/tmp/laoma.txt /laoma")]),s._v("\nSuccessfully copied "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".54kB to /laoma\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd laoma/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost laoma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":22 laoma.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"_17-导入和导出容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-导入和导出容器"}},[s._v("#")]),s._v(" 17. 导入和导出容器")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("export 导出容器")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" 容器ID "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  abcd.tar\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost laoma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker export bcf01f555d60 > ubuntu_01.tar")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost laoma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73400")]),s._v("\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":22 laoma.txt\n-rw-r--r--. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("75159040")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":29 ubuntu_01.tar\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("import 导入镜像")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("cat 文件名.tar "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" - 镜像用户/镜像名:版本号\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost laoma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat ubuntu_01.tar | docker import - itmahy/ubuntu:1.0")]),s._v("\nsha256:b1393a1efe8273e62bcec62f21b694e44566a7efcc39ef15e63285068509b241\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost laoma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY      TAG       IMAGE ID       CREATED         SIZE\nitmahy/ubuntu   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("       b1393a1efe82   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" seconds ago   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\nredis           latest    7614ae9453d1   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" months ago   113MB\nubuntu          latest    ba6acccedd29   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" months ago   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\nredis           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.0")]),s._v(".8     16ecd2772934   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" years ago     104MB\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost laoma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it itmahy/ubuntu:1.0 /bin/bash")]),s._v("\nroot@454737d833e1:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [root@localhost laoma]# docker ps")]),s._v("\nCONTAINER ID   IMAGE               COMMAND                   CREATED          STATUS          PORTS      NAMES\n454737d833e1   itmahy/ubuntu:1.0   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("               "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" seconds ago   Up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" seconds              upbeat_cerf\n53d9b032b518   redis               "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docker-entrypoint.s…"')]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" minutes ago   Up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" minutes   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("/tcp   objective_wright\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_18-镜像分层"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-镜像分层"}},[s._v("#")]),s._v(" 18. 镜像分层")]),s._v(" "),a("p",[a("img",{attrs:{src:t(437),alt:"An image"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(438),alt:"An image"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(439),alt:"An image"}})]),s._v(" "),a("ul",[a("li",[s._v("为什么镜像采用分层结构")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(440),alt:"An image"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("重点")]),s._v(" "),a("p",[a("img",{attrs:{src:t(441),alt:"An image"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(442),alt:"An image"}})])])]),s._v(" "),a("h3",{attrs:{id:"_19-commit命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-commit命令"}},[s._v("#")]),s._v(" 19. commit命令")]),s._v(" "),a("p",[s._v("命令的作用是：提交容器副本使之成为一个新的镜像")]),s._v(" "),a("p",[a("code",[s._v('docker commit -m="提交的描述信息" -a="作者" 容器ID 要创建的目标镜像名:[标签名（版本号）]')])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# docker commit -m="install vim tool" -a="itmahy" 454737d833e1 itmahy/ubuntu:1.1')]),s._v("\nsha256:c2581804e19230cc2f8184762ef6d314daae9e6e09a78e460502234e71900b35\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY      TAG       IMAGE ID       CREATED          SIZE\nitmahy/ubuntu   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v("       c2581804e192   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" seconds ago    185MB\nitmahy/ubuntu   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("       b1393a1efe82   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v(" minutes ago   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\nredis           latest    7614ae9453d1   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" months ago    113MB\nubuntu          latest    ba6acccedd29   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" months ago    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\nredis           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.0")]),s._v(".8     16ecd2772934   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" years ago      104MB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);